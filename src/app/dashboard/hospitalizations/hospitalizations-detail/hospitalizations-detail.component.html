<div class="custom-container">
    <div class="container-fluid">
        <div class='card'>
            <div style="background-color: #004D40; color: white;" class='card-header'>
                <img [src]="hospitalization.pet.image"> Detalhes da internação de Nº {{hospitalization.id}}
            </div>

            <div class='card-body' *ngIf='hospitalization'>
                <div class='row'>
                    <div class='col-md-8'>
                        <div class='row'>
                            <div class='col-md-4'>Nome:</div>
                            <div class='col-md-8'>{{hospitalization.description}}</div>
                        </div>
                        <div class='row'>
                            <div class='col-md-4'>código:</div>
                            <div class='col-md-8'>{{hospitalization.id}}</div>
                        </div>
                        <div class='row'>
                            <div class='col-md-4'>Descrição:</div>
                            <div class='col-md-8'>{{hospitalization.start_date | date: 'dd/MM/yyyy'}}</div>
                        </div>
                        <div class='row'>
                            <div class='col-md-4'>Tutor</div>
                            <div class='col-md-8'>{{hospitalization.end_date | date: 'dd/MM/yyyy'}}</div>
                        </div>
                    </div>
                </div><br />
                <div class="row">
                    <div class="col-md-3">
                        <button (click)="closeHospitalization()" class="download-btn">Dar alta</button>
                    </div>
                </div>
            </div>

            <div class="custom-container">
                <div class="container-fluid">
                    <div class="col-md-12">
                        <div class="custom-collapse">
                            <h4 class="collapse-title">
                                <div class="collapse-div-left">
                                    <a class="custom-icon">
                                        Medicações
                                    </a>
                                </div>
                                <div class="collapse-div-right">
                                    <a (click)="medicationData()" class="fa fa-edit custom-icon-right"
                                        aria-hidden="true" data-toggle="tooltip" data-placement="top"
                                        title="Editar dados pessoais" style="text-decoration: underline;">Editar</a>
                                    <a *ngIf="!collapseIsOpen.medData" (click)="openCollapse(true, 'med-data')"
                                        class="fa fa-angle-down custom-icon-right" data-toggle="collapse"
                                        href="#collapsemedData" aria-expanded="false" aria-controls="collapsemedData"
                                        style="font-size: 0.7em;"></a>
                                    <a *ngIf="collapseIsOpen.medData" (click)="openCollapse(false, 'med-data')"
                                        class="fa fa-angle-up custom-icon-right" data-toggle="collapse"
                                        href="#collapsemedData" aria-expanded="false" aria-controls="collapsemedData"
                                        style="font-size: 0.7em;"></a>
                                </div>
                            </h4>
                            <div class="collapse" id="collapsemedData">
                                <div class="card card-body">
                                    <div class="row">
                                        <div class="col-md-12 custom-data">
                                            <table class="table table-borderless">
                                                <thead>
                                                    <tr role="row">
                                                        <th></th>
                                                        <th>Nome</th>
                                                        <th>Valor do produto</th>
                                                        <th>Tipo de dosagem</th>
                                                        <th>Quantidade de dosagem</th>
                                                        <th>Período</th>
                                                        <th>Valor orçado</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let med of medications">
                                                        <td></td>
                                                        <td>{{med?.med?.name? med.med.name : ''}}</td>
                                                        <td>{{med?.med?.value? (med.med.value | currency: 'BRL') : ''}}
                                                        </td>
                                                        <td>{{med?.item_unity == '1'? 'Compromido ou cápsula' :
                                                            med?.item_unity == '2'? 'Ml' : 'gr'}}</td>
                                                        <td>{{med?.toPetQuantity? med.toPetQuantity : ''}}</td>
                                                        <td>{{med?.start? (med.start | date: 'dd/MM/yyyy') :
                                                            'Indefinido'}} - {{med?.end? (med.end | date: 'dd/MM/yyyy')
                                                            : 'Indefinido'}}</td>
                                                        <td>{{med?.total_value? (med.total_value | currency: 'BRL')
                                                            :''}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="custom-collapse">
                            <h4 class="collapse-title">
                                <div class="collapse-div-left">
                                    <a class="custom-icon">
                                        Exames
                                    </a>
                                </div>
                                <div class="collapse-div-right">
                                    <a (click)="medicationData()" class="fa fa-edit custom-icon-right"
                                        aria-hidden="true" data-toggle="tooltip" data-placement="top"
                                        title="Editar dados pessoais" style="text-decoration: underline;">Editar</a>
                                    <a *ngIf="!collapseIsOpen.examData" (click)="openCollapse(true, 'exam-data')"
                                        class="fa fa-angle-down custom-icon-right" data-toggle="collapse"
                                        href="#collapseExamData" aria-expanded="false" aria-controls="collapseExamData"
                                        style="font-size: 0.7em;"></a>
                                    <a *ngIf="collapseIsOpen.examData" (click)="openCollapse(false, 'exam-data')"
                                        class="fa fa-angle-up custom-icon-right" data-toggle="collapse"
                                        href="#collapseExamData" aria-expanded="false" aria-controls="collapseExamData"
                                        style="font-size: 0.7em;"></a>
                                </div>
                            </h4>
                            <div class="collapse" id="collapseExamData">
                                <div class="card card-body">
                                    <div class="row">
                                        <div class="col-md-3 custom-data">
                                            <span>Celular</span>
                                            <p></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class='card-footer'>
                <button class='btn btn-outline-secondary' style='width:80px'>
                    <i class='fa fa-chevron-left'></i> Voltar
                </button>
            </div>
        </div>
    </div>
</div>